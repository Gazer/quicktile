
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>test_quicktile &#8212; QuickTile 0.4.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' https://travis-ci.org https://*.travis-ci.org">
  
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="http://ssokolow.com/quicktile/_modules/test_quicktile.html"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />


  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h1 class="logo"><a href="../index.html">QuickTile</a></h1>



<p class="blurb">Keyboard-driven Window Tiling for your existing X11 window manager</p>








    

<p>
<a class="badge" href="https://travis-ci.org/ssokolow/quicktile">
    <img
        alt="CI Test Status"
        src="https://secure.travis-ci.org/ssokolow/quicktile.svg?branch=master"
    />
</a>
</p>


<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><div class="badges">
    <p><a href="apt:python3,python3-pip,python3-setuptools,python3-gi,python3-xlib,python3-dbus,gir1.2-glib-2.0,gir1.2-gtk-3.0,gir1.2-wnck-3.0" class="btn" title="Install from configured repositories on Debian-based distros"><img src="../_static/img/debian_12.png" alt="Debian"><img src="../_static/img/ubuntu_12.png" alt="Ubuntu"><img src="../_static/img/mint_12.png" alt="Mint"> Install Dependencies</a></p>
    <p><a href="http://github.com/ssokolow/quicktile/zipball/master" class="btn">Download QuickTile</a></p>
    <p><a href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html"><img src="../_static/license.svg" alt="License: GPLv2" /></a></p>
</div><div class="contrib_box">
    <h3>Tip Jar</h3>
    <dl>
        <dt>Code (Best)</dt>
        <dd class="icons">
            <ul class="icons">
                <li><a href="https://github.com/ssokolow/quicktile"
                        title="GitHub Repo"><img
                        src="../_static/contrib_box/github.png"
                        alt="GitHub" /></a></li>
                <li><a href="https://github.com/ssokolow/quicktile/issues"
                        title="Bug Tracker"><img
                        src="../_static/contrib_box/bug.png"
                        alt="Bug Tracker" /></a></li>
            </ul>
        </dd>
        <dt>Publicity (Better)</dt>
        <dd>Show your friends</dd>
        <dt>Snacks (Good)</dt>
        <dd class="icons">
            <ul class="icons">
                <li><a href="https://flattr.com/thing/674146"
                        title="Flattr"><img
                        src="../_static/contrib_box/flattr.png"
                        alt="Flattr" /></a></li>
                <li><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top"><input type="hidden" name="cmd" value="_s-xclick"><input type="hidden" name="hosted_button_id" value="EFWRR7EAQ993S"><input type="image" src="../_static/contrib_box/paypal.png" name="submit" alt="PayPal" title="PayPal"></form></li>
                <li><a title="BitCoin"
                    href="bitcoin:1Kp1i3nahunzzFs5a3mMF46uzca4oANH5C?label=QuickTile%20Donations"
                    ><img
                    src="../_static/contrib_box/bitcoin.png"
                    alt="BitCoin"
                /></a></li>
            </ul>
        </dd>
    </dl>
</div>
<!--
    bug.png and wrench.png from the Silk Icons set by Mark James, available at
    http://www.famfamfam.com/lab/icons/silk/
    are used under the Creative Commons Attribution 2.5 license.
-->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for test_quicktile</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Unit Test Suite for QuickTile using Nose test discovery&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Stephan Sokolow (deitarion/SSokolow)&quot;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;GNU GPL 2.0 or later&quot;</span>

<span class="c1"># TODO: I need a functional test to make sure issue #25 doesn&#39;t regress</span>

<span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">unittest</span>

<span class="c1"># from quicktile import commands</span>
<span class="kn">from</span> <span class="nn">quicktile.util</span> <span class="kn">import</span> <span class="p">(</span><span class="n">clamp_idx</span><span class="p">,</span> <span class="n">euclidean_dist</span><span class="p">,</span> <span class="n">powerset</span><span class="p">,</span> <span class="n">Edge</span><span class="p">,</span> <span class="n">Gravity</span><span class="p">,</span>
                            <span class="n">Rectangle</span><span class="p">,</span> <span class="n">StrutPartial</span><span class="p">,</span> <span class="n">UsableRegion</span><span class="p">,</span> <span class="n">XInitError</span><span class="p">)</span>

<span class="c1"># Ensure code coverage counts modules not yet imported by tests.</span>
<span class="kn">from</span> <span class="nn">quicktile</span> <span class="kn">import</span> <span class="n">__main__</span>  <span class="c1"># NOQA pylint: disable=unused-import</span>

<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># class TestCommandRegistry(unittest.TestCase):</span>
<span class="c1">#     &quot;&quot;&quot;Tests for the `CommandRegistry` class&quot;&quot;&quot;</span>
<span class="c1">#     def setUp(self):  # type: () -&gt; None</span>
<span class="c1">#         self.registry = commands.CommandRegistry()</span>
<span class="c1">#</span>
<span class="c1">#     # TODO: Implement tests for CommandRegistry</span>

<span class="c1"># TODO: Implement tests for cycle_dimensions</span>
<span class="c1"># TODO: Implement tests for cycle_monitors</span>
<span class="c1"># TODO: Implement tests for move_to_position</span>
<span class="c1"># TODO: Implement tests for toggle_decorated</span>
<span class="c1"># TODO: Implement tests for toggle_desktop</span>
<span class="c1"># TODO: Implement tests for toggle_state</span>
<span class="c1"># TODO: Implement tests for trigger_keyboard_action</span>
<span class="c1"># TODO: Implement tests for workspace_go</span>
<span class="c1"># TODO: Implement tests for workspace_send_window</span>

<span class="c1"># TODO: Move tests for util.py into tests/util.py</span>


<span class="c1"># TODO: Implement tests for GravityLayout</span>

<span class="c1"># TODO: Implement tests for KeyBinder</span>

<span class="c1"># TODO: Implement tests for QuickTileApp</span>

<div class="viewcode-block" id="TestHelpers"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers">[docs]</a><span class="k">class</span> <span class="nc">TestHelpers</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tests for loose functions</span>

<span class="sd">    .. todo:: Switch to pytest_ to get the ``assertEqual`` readout from assert</span>
<span class="sd">       in bare functions.</span>

<span class="sd">    .. _pytest: https://docs.pytest.org/</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestHelpers.test_clamp_idx_default"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers.test_clamp_idx_default">[docs]</a>    <span class="k">def</span> <span class="nf">test_clamp_idx_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test that clamp_idx defaults to wrapping behaviour&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">clamp_idx</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestHelpers.test_clamp_idx_wrap"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers.test_clamp_idx_wrap">[docs]</a>    <span class="k">def</span> <span class="nf">test_clamp_idx_wrap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Test that clamp_idx(wrap=True) wraps as expected&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestHelpers.test_clamp_idx"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers.test_clamp_idx">[docs]</a>    <span class="k">def</span> <span class="nf">test_clamp_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Test that clamp_idx(wrap=False) saturates as expected&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">clamp_idx</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="mi">9</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestHelpers.test_euclidean_dist"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers.test_euclidean_dist">[docs]</a>    <span class="k">def</span> <span class="nf">test_euclidean_dist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;euclidean_dist: basic functionality&quot;&quot;&quot;</span>
        <span class="c1"># TODO: Improve type signature</span>

        <span class="c1"># Length of 0, commutative</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">euclidean_dist</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)),</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Length of 1, commutative</span>
        <span class="k">for</span> <span class="n">vec_a</span><span class="p">,</span> <span class="n">vec_b</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
                <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">))):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">euclidean_dist</span><span class="p">(</span><span class="n">vec_b</span><span class="p">,</span> <span class="n">vec_a</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">euclidean_dist</span><span class="p">(</span><span class="n">vec_a</span><span class="p">,</span> <span class="n">vec_b</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Integer input, floating-point output</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">euclidean_dist</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="mf">4.24264068</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">euclidean_dist</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="mf">4.24264068</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestHelpers.test_powerset"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers.test_powerset">[docs]</a>    <span class="k">def</span> <span class="nf">test_powerset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Test that powerset() behaves as expected&quot;&quot;&quot;</span>
        <span class="n">src_set</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[(),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">test_set</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">src_set</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">src_set</span><span class="p">),</span> <span class="nb">set</span><span class="p">(</span><span class="n">src_set</span><span class="p">)):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">powerset</span><span class="p">(</span><span class="n">test_set</span><span class="p">))</span>

            <span class="c1"># Obvious requirements</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(),</span> <span class="n">result</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">test_set</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>

            <span class="c1"># Check that only subsets are returned</span>
            <span class="k">for</span> <span class="n">subset</span> <span class="ow">in</span> <span class="n">expected</span><span class="p">:</span>
                <span class="c1"># Workaround for MyPy thinking `expected` isn&#39;t a list</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">subset</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">test_set</span><span class="p">)</span>

            <span class="c1"># Check that ALL subsets are returned</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">powerset</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])),</span> <span class="n">expected</span><span class="p">)</span></div>

    <span class="c1"># TODO: Test fmt_table</span>

    <span class="c1"># TODO: Test _make_positions</span>

<div class="viewcode-block" id="TestHelpers.test_xiniterror_str"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestHelpers.test_xiniterror_str">[docs]</a>    <span class="k">def</span> <span class="nf">test_xiniterror_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;XInitError.__str__ output contains provided text&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s2">&quot;Testing 123&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">XInitError</span><span class="p">(</span><span class="s2">&quot;Testing 123&quot;</span><span class="p">)))</span></div></div>


<div class="viewcode-block" id="TestStrutPartial"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestStrutPartial">[docs]</a><span class="k">class</span> <span class="nc">TestStrutPartial</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tests for my custom ``_NET_WM_STRUT_PARTIAL`` wrapper class&quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestStrutPartial.test_construction"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestStrutPartial.test_construction">[docs]</a>    <span class="k">def</span> <span class="nf">test_construction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;StrutPartial: construction&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">StrutPartial</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
            <span class="n">left_start_y</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">left_end_y</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">right_start_y</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">right_end_y</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
            <span class="n">top_start_x</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">top_end_x</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">bottom_start_x</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">bottom_end_x</span><span class="o">=</span><span class="mi">12</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestStrutPartial.test_as_rects"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestStrutPartial.test_as_rects">[docs]</a>    <span class="k">def</span> <span class="nf">test_as_rects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;StrutPartial: as_rects (basic function)&quot;&quot;&quot;</span>
        <span class="n">test_struts</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span>
                <span class="n">left</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                <span class="n">left_start_y</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">left_end_y</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">right_start_y</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">right_end_y</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                <span class="n">top_start_x</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">top_end_x</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">bottom_start_x</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">bottom_end_x</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">6000</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">7000</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">8000</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span>
                <span class="n">left</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                <span class="n">left_start_y</span><span class="o">=-</span><span class="mi">2000</span><span class="p">,</span> <span class="n">left_end_y</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
                <span class="n">right_start_y</span><span class="o">=-</span><span class="mi">4000</span><span class="p">,</span> <span class="n">right_end_y</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
                <span class="n">top_start_x</span><span class="o">=-</span><span class="mi">6000</span><span class="p">,</span> <span class="n">top_end_x</span><span class="o">=</span><span class="mi">7000</span><span class="p">,</span>
                <span class="n">bottom_start_x</span><span class="o">=-</span><span class="mi">8000</span><span class="p">,</span> <span class="n">bottom_end_x</span><span class="o">=</span><span class="mi">9000</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span>
                <span class="n">left</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                <span class="n">left_start_y</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">left_end_y</span><span class="o">=-</span><span class="mi">3000</span><span class="p">,</span>
                <span class="n">right_start_y</span><span class="o">=</span><span class="mi">4000</span><span class="p">,</span> <span class="n">right_end_y</span><span class="o">=-</span><span class="mi">5000</span><span class="p">,</span>
                <span class="n">top_start_x</span><span class="o">=</span><span class="mi">6000</span><span class="p">,</span> <span class="n">top_end_x</span><span class="o">=-</span><span class="mi">7000</span><span class="p">,</span>
                <span class="n">bottom_start_x</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span> <span class="n">bottom_end_x</span><span class="o">=-</span><span class="mi">9000</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="n">dtop_rect</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Desktop Rectangle: &quot;</span><span class="p">,</span> <span class="n">dtop_rect</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">strut</span> <span class="ow">in</span> <span class="n">test_struts</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Desktop Rectangle: &quot;</span><span class="p">,</span> <span class="n">dtop_rect</span><span class="p">,</span> <span class="s2">&quot; | Strut: &quot;</span><span class="p">,</span> <span class="n">strut</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">strut</span><span class="o">.</span><span class="n">as_rects</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">),</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="c1"># Left</span>
                    <span class="p">(</span><span class="n">Edge</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">dtop_rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">left_start_y</span><span class="p">,</span>
                        <span class="n">width</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">left_end_y</span>
                                          <span class="p">)</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">)),</span>
                    <span class="c1"># Right</span>
                    <span class="p">(</span><span class="n">Edge</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span>
                        <span class="n">x</span><span class="o">=</span><span class="n">dtop_rect</span><span class="o">.</span><span class="n">x2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">right_start_y</span><span class="p">,</span>
                        <span class="n">width</span><span class="o">=-</span><span class="n">strut</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">right_end_y</span>
                              <span class="p">)</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">)),</span>
                    <span class="c1"># Top</span>
                    <span class="p">(</span><span class="n">Edge</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">top_start_x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">dtop_rect</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
                        <span class="n">x2</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">top_end_x</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">top</span>
                                         <span class="p">)</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">)),</span>
                    <span class="c1"># Bottom</span>
                    <span class="p">(</span><span class="n">Edge</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span>
                        <span class="n">x</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">bottom_start_x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">dtop_rect</span><span class="o">.</span><span class="n">y2</span><span class="p">,</span>
                        <span class="n">x2</span><span class="o">=</span><span class="n">strut</span><span class="o">.</span><span class="n">bottom_end_x</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="n">strut</span><span class="o">.</span><span class="n">bottom</span>
                              <span class="p">)</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">)))</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span></div>

<div class="viewcode-block" id="TestStrutPartial.test_as_rects_pruning"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestStrutPartial.test_as_rects_pruning">[docs]</a>    <span class="k">def</span> <span class="nf">test_as_rects_pruning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;StrutPartial: as_rects doesn&#39;t return empty rects&quot;&quot;&quot;</span>
        <span class="n">dtop_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">as_rects</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">),</span>
            <span class="p">[(</span><span class="n">Edge</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">))])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">as_rects</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">),</span>
            <span class="p">[(</span><span class="n">Edge</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">dtop_rect</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="mi">6</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">))])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">as_rects</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">),</span>
            <span class="p">[(</span><span class="n">Edge</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">7</span><span class="p">))])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">as_rects</span><span class="p">(</span><span class="n">dtop_rect</span><span class="p">),</span>
            <span class="p">[(</span><span class="n">Edge</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">dtop_rect</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="mi">8</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">8</span><span class="p">))])</span></div></div>


<div class="viewcode-block" id="TestRectangle"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle">[docs]</a><span class="k">class</span> <span class="nc">TestRectangle</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>  <span class="c1"># pylint: disable=R0904</span>
    <span class="sd">&quot;&quot;&quot;Tests for my custom `Rectangle` class&quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestRectangle.setUp"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implicitly test positional and keyword construction during setup&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect3</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_member_access"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_member_access">[docs]</a>    <span class="k">def</span> <span class="nf">test_member_access</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: quacks like a namedtuple&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_properties"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_properties">[docs]</a>    <span class="k">def</span> <span class="nf">test_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: convenience properties&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rect</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect3</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x2</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y2</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">xy</span><span class="p">,</span> <span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_negative_size"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_negative_size">[docs]</a>    <span class="k">def</span> <span class="nf">test_negative_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: test normalization of negative sizes&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_float_input"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_float_input">[docs]</a>    <span class="k">def</span> <span class="nf">test_float_input</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: test truncating of float inputs to integers&quot;&quot;&quot;</span>
        <span class="n">test_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_rect</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_none_safe"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_none_safe">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=no-self-use</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: __new__ doesn&#39;t attempt to compare None and int&quot;&quot;&quot;</span>
        <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_twopoint_construction"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_twopoint_construction">[docs]</a>    <span class="k">def</span> <span class="nf">test_twopoint_construction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: test construction using two-point form&quot;&quot;&quot;</span>
        <span class="c1"># Regular</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="c1"># Origin-crossing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect3</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

        <span class="c1"># Negative width and/or height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

        <span class="c1"># Bad argument combinations</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_righthand_construction"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_righthand_construction">[docs]</a>    <span class="k">def</span> <span class="nf">test_righthand_construction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: test construction using x2/y2 and width/height&quot;&quot;&quot;</span>
        <span class="c1"># Regular</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
                         <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="c1"># Origin-crossing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

        <span class="c1"># Negative width and/or height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
                         <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span>
                         <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span>
                         <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">4</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">4</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">2</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">6</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=-</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="mi">6</span><span class="p">),</span>
                         <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

        <span class="c1"># Bad argument combinations</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_bool"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_bool">[docs]</a>    <span class="k">def</span> <span class="nf">test_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: only truthy if area is nonzero&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>  <span class="c1"># Negative</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>  <span class="c1"># Origin-crossing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>  <span class="c1"># (0, 0) start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_contains"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_contains">[docs]</a>    <span class="k">def</span> <span class="nf">test_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: __contains__&quot;&quot;&quot;</span>
        <span class="c1"># Wholly-contained == True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="c1"># ...including for empty rectangles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

        <span class="c1"># Mere overlap isn&#39;t enough</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

        <span class="c1"># Type mismatches don&#39;t cause errors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_intersect"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">test_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: intersection&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

        <span class="c1"># Basic test that unrecognized types fail properly</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_to_point"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_to_point">[docs]</a>    <span class="k">def</span> <span class="nf">test_to_point</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: to_point&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rectangle</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect3</span><span class="p">):</span>
            <span class="n">point</span> <span class="o">=</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">to_point</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="p">(</span><span class="n">rectangle</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_union"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_union">[docs]</a>    <span class="k">def</span> <span class="nf">test_union</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: union finds bounding box for two rectangles&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect2</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>

        <span class="c1"># Basic test that unrecognized types fail properly</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_moved_into"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_moved_into">[docs]</a>    <span class="k">def</span> <span class="nf">test_moved_into</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: moved_into&quot;&quot;&quot;</span>

        <span class="n">display</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1200</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span> <span class="o">-</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span> <span class="o">-</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1200</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                         <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2000</span><span class="p">))</span>

        <span class="c1"># Wrong Type</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">moved_into</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_moved_off_of"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_moved_off_of">[docs]</a>    <span class="k">def</span> <span class="nf">test_moved_off_of</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: moved_off_of&quot;&quot;&quot;</span>
        <span class="c1"># Moving off a non-intersecting rectangle returns self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">)</span>

        <span class="c1"># Basic checks that moved_off_of pushes in the right direction</span>
        <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Testing moved_off_of &quot;</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">length</span><span class="p">,</span> <span class="n">thickness</span> <span class="ow">in</span> <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">thickness</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=-</span><span class="n">length</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="n">thickness</span><span class="p">)),</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=</span><span class="n">length</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">thickness</span><span class="p">)),</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=-</span><span class="n">thickness</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="n">length</span><span class="p">)),</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=</span><span class="n">thickness</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">length</span><span class="p">)),</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">))</span>

        <span class="c1"># Regression test for a real-world &quot;pushes in the wrong direction&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1046</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">34</span><span class="p">)</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1050</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1279</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1016</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">34</span><span class="p">))</span>

        <span class="c1"># Regression test for &quot;using only area of overlap causes it to go crazy</span>
        <span class="c1"># when the rectangle is entirely within the reserved area&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1055</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">moved_off_of</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1050</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1279</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1041</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">9</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_subtract"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_subtract">[docs]</a>    <span class="k">def</span> <span class="nf">test_subtract</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: subtract&quot;&quot;&quot;</span>
        <span class="c1"># Subtracting a non-intersecting rectangle returns self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="p">)</span>

        <span class="c1"># Basic checks that subtracting chops off the correct edge</span>
        <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Testing subtracting from &quot;</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">length</span><span class="p">,</span> <span class="n">thickness</span> <span class="ow">in</span> <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">thickness</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=-</span><span class="n">length</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="n">thickness</span><span class="p">)),</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">12</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=</span><span class="n">length</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">thickness</span><span class="p">)),</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">12</span> <span class="o">-</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=-</span><span class="n">thickness</span><span class="p">,</span> <span class="n">height</span><span class="o">=-</span><span class="n">length</span><span class="p">)),</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">12</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">x2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">rect</span><span class="o">.</span><span class="n">y2</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span>
                          <span class="n">width</span><span class="o">=</span><span class="n">thickness</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">length</span><span class="p">)),</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="mi">8</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">12</span><span class="p">))</span>

        <span class="c1"># Regression test for a real-world &quot;chops off the right edge&quot; error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1046</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">34</span><span class="p">)</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1050</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1279</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1046</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_relative_conversion_basic"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_relative_conversion_basic">[docs]</a>    <span class="k">def</span> <span class="nf">test_relative_conversion_basic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: converting to/from relative coordinates works&quot;&quot;&quot;</span>
        <span class="c1"># Test with explicit, known values</span>
        <span class="n">ref_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">start_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">expected_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="n">rel_rect</span> <span class="o">=</span> <span class="n">start_rect</span><span class="o">.</span><span class="n">to_relative</span><span class="p">(</span><span class="n">ref_rect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rel_rect</span><span class="p">,</span> <span class="n">expected_rect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rel_rect</span><span class="o">.</span><span class="n">from_relative</span><span class="p">(</span><span class="n">ref_rect</span><span class="p">),</span> <span class="n">start_rect</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_rel_conversion_symmetry"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_rel_conversion_symmetry">[docs]</a>    <span class="k">def</span> <span class="nf">test_rel_conversion_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: converting to/from relative coordinates is symmetrical&quot;&quot;&quot;</span>
        <span class="c1"># Test a variety of combinations</span>
        <span class="k">for</span> <span class="n">ref_rect</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="n">Rectangle</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">test_rect</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                    <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)):</span>
                <span class="n">rel_rect</span> <span class="o">=</span> <span class="n">test_rect</span><span class="o">.</span><span class="n">to_relative</span><span class="p">(</span><span class="n">ref_rect</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_rect</span><span class="p">,</span> <span class="n">rel_rect</span><span class="o">.</span><span class="n">from_relative</span><span class="p">(</span><span class="n">ref_rect</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_gravity_noop"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_gravity_noop">[docs]</a>    <span class="k">def</span> <span class="nf">test_gravity_noop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: gravity conversions on top-left corner are no-ops.&quot;&quot;&quot;</span>
        <span class="n">start_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">start_rect</span><span class="p">,</span> <span class="n">start_rect</span><span class="o">.</span><span class="n">to_gravity</span><span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">start_rect</span><span class="p">,</span>
            <span class="n">start_rect</span><span class="o">.</span><span class="n">from_gravity</span><span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_gravity_conversion"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_gravity_conversion">[docs]</a>    <span class="k">def</span> <span class="nf">test_gravity_conversion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: basic gravity conversions&quot;&quot;&quot;</span>

        <span class="c1"># Basic test with center gravity and an even width and height</span>
        <span class="n">start_rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">grav_rect</span> <span class="o">=</span> <span class="n">start_rect</span><span class="o">.</span><span class="n">to_gravity</span><span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">CENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">grav_rect</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">grav_rect</span><span class="o">.</span><span class="n">from_gravity</span><span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">CENTER</span><span class="p">),</span> <span class="n">start_rect</span><span class="p">)</span>

        <span class="c1"># Test all combinations in a slightly less transparent manner</span>
        <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">):</span>
            <span class="n">ehalf</span> <span class="o">=</span> <span class="n">edge</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="k">for</span> <span class="n">gravity</span><span class="p">,</span> <span class="n">expect</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">TOP_LEFT</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="p">(</span><span class="n">ehalf</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">TOP_RIGHT</span><span class="p">,</span> <span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ehalf</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">CENTER</span><span class="p">,</span> <span class="p">(</span><span class="n">ehalf</span><span class="p">,</span> <span class="n">ehalf</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">ehalf</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">edge</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="p">(</span><span class="n">ehalf</span><span class="p">,</span> <span class="n">edge</span><span class="p">)),</span>
                    <span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span><span class="p">,</span> <span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">edge</span><span class="p">))):</span>
                <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">edge</span><span class="p">,</span> <span class="n">edge</span><span class="p">)</span>

                <span class="n">grav_rect</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">to_gravity</span><span class="p">(</span><span class="n">gravity</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">grav_rect</span><span class="o">.</span><span class="n">to_point</span><span class="p">(),</span>
                    <span class="n">Rectangle</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">expect</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">expect</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">grav_rect</span><span class="o">.</span><span class="n">from_gravity</span><span class="p">(</span><span class="n">gravity</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_gravity_rounding"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_gravity_rounding">[docs]</a>    <span class="k">def</span> <span class="nf">test_gravity_rounding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: gravity conversions truncate predictably&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">to_gravity</span><span class="p">(</span><span class="n">Gravity</span><span class="o">.</span><span class="n">CENTER</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestRectangle.test_gdk_round_tripping"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_gdk_round_tripping">[docs]</a>    <span class="k">def</span> <span class="nf">test_gdk_round_tripping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: from_gdk/to_gdk&quot;&quot;&quot;</span>

        <span class="n">test_rect1</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">test_rect2</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

        <span class="n">gdk_rect1</span> <span class="o">=</span> <span class="n">test_rect1</span><span class="o">.</span><span class="n">to_gdk</span><span class="p">()</span>
        <span class="n">gdk_rect2</span> <span class="o">=</span> <span class="n">test_rect2</span><span class="o">.</span><span class="n">to_gdk</span><span class="p">()</span>

        <span class="c1"># To make sure we&#39;re not just setting dummy properties, test the</span>
        <span class="c1"># results of GdkRectangle&#39;s union operator against ours.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="o">.</span><span class="n">from_gdk</span><span class="p">(</span><span class="n">gdk_rect1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">gdk_rect2</span><span class="p">))</span>
        <span class="n">control</span> <span class="o">=</span> <span class="n">test_rect1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">test_rect2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">control</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestRectangle.test_two_point_form"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestRectangle.test_two_point_form">[docs]</a>    <span class="k">def</span> <span class="nf">test_two_point_form</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rectangle: two-point-form properties function properly&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">x2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect1</span><span class="o">.</span><span class="n">height</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestUsableRegion"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion">[docs]</a><span class="k">class</span> <span class="nc">TestUsableRegion</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tests for my per-monitor ``_NET_WORKAREA`` calculation class&quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestUsableRegion.test_bool"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_bool">[docs]</a>    <span class="k">def</span> <span class="nf">test_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: __bool__&quot;&quot;&quot;</span>
        <span class="c1"># Empty regions are falsy</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">test_region</span><span class="p">)</span>

        <span class="c1"># Regions containing non-empty monitors are truthy</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)])</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">test_region</span><span class="p">)</span>

        <span class="c1"># Regions containing only empty monitors are falsy</span>
        <span class="n">mon1</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">test_region</span><span class="p">)</span>

        <span class="c1"># Force a denormalized region to verify that empty rectangles are still</span>
        <span class="c1"># treated as falsy</span>
        <span class="c1"># pylint: disable=protected-access</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">_monitors</span> <span class="o">=</span> <span class="p">[</span><span class="n">mon1</span><span class="p">]</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">_usable</span> <span class="o">=</span> <span class="p">{</span><span class="n">mon1</span><span class="p">:</span> <span class="n">mon1</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">test_region</span><span class="p">)</span></div>

        <span class="c1"># TODO: Figure out how `Virtual` settings larger than the physical</span>
        <span class="c1">#       resolution look to these APIs and then pin down and test the</span>
        <span class="c1">#       behaviour for setting desktop rectangles that aren&#39;t the union</span>
        <span class="c1">#       of the monitor rectangles.</span>
        <span class="c1">#       (`Virtual` is the Xorg.conf setting which allows you to scroll</span>
        <span class="c1">#       around a desktop bigger that what the monitors show.)</span>

<div class="viewcode-block" id="TestUsableRegion.test_find_monitor_for"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_find_monitor_for">[docs]</a>    <span class="k">def</span> <span class="nf">test_find_monitor_for</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: find_monitor_for&quot;&quot;&quot;</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>

        <span class="c1"># No monitors set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>

        <span class="c1"># Actual rectangles of my monitors</span>
        <span class="c1"># TODO: Double-check that this matches the real-world API outputs</span>
        <span class="c1">#       (eg. make sure there are no lurking off-by-one errors)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)])</span>

        <span class="c1"># Actual struts harvested from my desktop&#39;s panels</span>
        <span class="c1"># to verify that it&#39;s returning the *monitor* rectangle and not the</span>
        <span class="c1"># largest usable rectangle within.</span>
        <span class="c1">#</span>
        <span class="c1"># (Keep the empty struts at the beginning and end. One from an</span>
        <span class="c1">#  auto-hiding Plasma 5 panel caught an early bug where</span>
        <span class="c1">#  only the last strut subtracted from a monitor was retained)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3200</span><span class="p">,</span> <span class="mi">4479</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">3199</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1279</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">])</span>

        <span class="c1"># Out-of-bounds Space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>

        <span class="c1"># Dead Space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3203</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>

        <span class="c1"># Space under panels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1277</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3400</span><span class="p">,</span> <span class="mi">1277</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>

        <span class="c1"># Available Space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">56</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1280</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1024</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1280</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1920</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1080</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">find_monitor_for</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">3200</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">56</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1280</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1024</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestUsableRegion.test_clip_to_usable_region"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_clip_to_usable_region">[docs]</a>    <span class="k">def</span> <span class="nf">test_clip_to_usable_region</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: clip_to_usable_region&quot;&quot;&quot;</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>

        <span class="c1"># Quick integration test for internal call to find_monitor_for</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span>
            <span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>

        <span class="c1"># Actual rectangles of my monitors</span>
        <span class="c1"># TODO: Double-check that this matches the real-world API outputs</span>
        <span class="c1">#       (eg. make sure there are no lurking off-by-one errors)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)])</span>

        <span class="c1"># Actual struts harvested from my desktop&#39;s panels</span>
        <span class="c1"># (Keep the empty struts at the beginning and end. One from an</span>
        <span class="c1">#  auto-hiding Plasma 5 panel caught an early bug where</span>
        <span class="c1">#  only the last strut subtracted from a monitor was retained)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3200</span><span class="p">,</span> <span class="mi">4479</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">3199</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1279</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">])</span>

        <span class="c1"># Out of bounds (no overlap)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>  <span class="c1"># top</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>  <span class="c1"># right</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">4480</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>  <span class="c1"># bottom</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">1080</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>  <span class="c1"># left</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>

        <span class="c1"># Out of bounds (overlap)</span>
        <span class="c1"># Top</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">+</span> <span class="mi">56</span>
        <span class="n">panel</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">56</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="c1"># Right</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">4480</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">4480</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="c1"># Bottom</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">panel</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">panel</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">panel</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="c1"># Left</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">6</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

        <span class="c1"># Dead Space (no overlap)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>

        <span class="c1"># Dead Space (overlap)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span> <span class="o">-</span> <span class="mi">56</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span> <span class="o">-</span> <span class="mi">56</span><span class="p">))</span>

        <span class="c1"># Reserved Space (no overlap)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1277</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1060</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">1277</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Reserved Space (overlap)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1"># Available Space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span></div>

        <span class="c1"># TODO: Test edge pixels for off-by-one errors</span>

<div class="viewcode-block" id="TestUsableRegion.test_move_to_usable_region"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_move_to_usable_region">[docs]</a>    <span class="k">def</span> <span class="nf">test_move_to_usable_region</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: move_to_usable_region&quot;&quot;&quot;</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>

        <span class="c1"># Quick integration test for internal call to find_monitor_for</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span>
            <span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>

        <span class="c1"># Actual rectangles of my monitors</span>
        <span class="c1"># TODO: Double-check that this matches the real-world API outputs</span>
        <span class="c1">#       (eg. make sure there are no lurking off-by-one errors)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)])</span>

        <span class="c1"># Actual struts harvested from my desktop&#39;s panels</span>
        <span class="c1"># (Keep the empty struts at the beginning and end. One from an</span>
        <span class="c1">#  auto-hiding Plasma 5 panel caught an early bug where</span>
        <span class="c1">#  only the last strut subtracted from a monitor was retained)</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3200</span><span class="p">,</span> <span class="mi">4479</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">3199</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1279</span><span class="p">),</span>
            <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">])</span>

        <span class="c1"># Out-of-bounds Space</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">+</span> <span class="mi">56</span>
        <span class="n">panel</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">4480</span> <span class="o">-</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">31</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">32</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1080</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">33</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">33</span><span class="p">))</span>

        <span class="c1"># Dead Space</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3203</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3203</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

        <span class="c1"># Reserved Space (fallback)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">panel</span> <span class="o">-</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

        <span class="c1"># Available Space</span>
        <span class="k">for</span> <span class="n">test_rect</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">3300</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">move_to_usable_region</span><span class="p">(</span><span class="n">test_rect</span><span class="p">),</span>
                <span class="n">test_rect</span><span class="p">)</span></div>

        <span class="c1"># TODO: Test edge pixels for off-by-one errors</span>

<div class="viewcode-block" id="TestUsableRegion.test_issue_45"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_issue_45">[docs]</a>    <span class="k">def</span> <span class="nf">test_issue_45</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: struts on internal monitor edges work properly</span>

<span class="sd">        (Test that the ambiguous aspect of the spec is interpreted in</span>
<span class="sd">        accordance with how Unity actually implemented it.)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Use the actual --debug geometry from issue 45 so this is also</span>
        <span class="c1"># a regression test.</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1200</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1200</span><span class="p">)])</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span><span class="n">StrutPartial</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">49</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">1199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1969</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">1199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1919</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">3839</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]])</span>
        <span class="c1"># Right monitor (easy case)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1969</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">49</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">24</span><span class="p">))</span>

        <span class="c1"># Left monitor (problem case)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">49</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">49</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">24</span><span class="p">))</span>

        <span class="c1"># Asymmetric monitors (left monitor bigger)</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1200</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)])</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span><span class="n">StrutPartial</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">49</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">1199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1969</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">1023</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1919</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">3199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]])</span>
        <span class="c1"># Right monitor (easy case)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1969</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">49</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">24</span><span class="p">))</span>

        <span class="c1"># Left monitor (problem case)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">49</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">49</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">24</span><span class="p">))</span>

        <span class="c1"># Asymmetric monitors (left monitor smaller)</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">),</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1200</span><span class="p">)])</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span><span class="n">StrutPartial</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">49</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">1023</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1329</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">1199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1023</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]])</span>
        <span class="c1"># Right monitor (easy case)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1329</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">49</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">24</span><span class="p">))</span>

        <span class="c1"># Left monitor (problem case)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">49</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">49</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">24</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestUsableRegion.test_issue_108"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_issue_108">[docs]</a>    <span class="k">def</span> <span class="nf">test_issue_108</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: windows use of space left free by narrow panels</span>

<span class="sd">        Regression test for #64, #65, and #108.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)])</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([</span><span class="n">StrutPartial</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">33</span><span class="p">,</span>
            <span class="n">bottom_start_x</span><span class="o">=</span><span class="mi">1022</span><span class="p">,</span> <span class="n">bottom_end_x</span><span class="o">=</span><span class="mi">1919</span><span class="p">)])</span>

        <span class="c1"># Left half</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">960</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">960</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1080</span><span class="p">))</span>

        <span class="c1"># Right half</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">clip_to_usable_region</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">960</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">960</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">960</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">960</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1080</span> <span class="o">-</span> <span class="mi">33</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestUsableRegion.test_update_no_valid_monitors"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_update_no_valid_monitors">[docs]</a>    <span class="k">def</span> <span class="nf">test_update_no_valid_monitors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: Empty list of monitors doesn&#39;t raise exception&quot;&quot;&quot;</span>
        <span class="n">UsableRegion</span><span class="p">()</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([])</span></div>

<div class="viewcode-block" id="TestUsableRegion.test_update_typecheck"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_update_typecheck">[docs]</a>    <span class="k">def</span> <span class="nf">test_update_typecheck</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: type enforcement for internal _update function&quot;&quot;&quot;</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="c1"># Must be a *list* of Rectangles</span>
            <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>

        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="c1"># Use a tuple as a test because, just because it&#39;s a namedtuple</span>
            <span class="c1"># doesn&#39;t mean we want *any* tuple with the right arity</span>
            <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)])</span>

        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="c1"># Must be a *list* of StrutPartials</span>
            <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">(</span>
                <span class="n">StrutPartial</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>

        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="c1"># Use a tuple as a test because, just because it&#39;s a namedtuple</span>
            <span class="c1"># doesn&#39;t mean we want *any* tuple with the right arity</span>
            <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">)])</span></div>

<div class="viewcode-block" id="TestUsableRegion.test_update_nonempty"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_update_nonempty">[docs]</a>    <span class="k">def</span> <span class="nf">test_update_nonempty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: only add non-empty entries to _usable&quot;&quot;&quot;</span>

        <span class="n">mon1</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span><span class="n">mon1</span><span class="p">,</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>

        <span class="c1"># pylint: disable=protected-access</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">test_region</span><span class="o">.</span><span class="n">_monitors</span><span class="p">),</span>
            <span class="p">[</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)])</span></div>

<div class="viewcode-block" id="TestUsableRegion.test_repr"><a class="viewcode-back" href="../apidocs/test_quicktile.html#test_quicktile.TestUsableRegion.test_repr">[docs]</a>    <span class="k">def</span> <span class="nf">test_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;UsableRegion: __repr__&quot;&quot;&quot;</span>
        <span class="n">test_region</span> <span class="o">=</span> <span class="n">UsableRegion</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">test_region</span><span class="p">),</span> <span class="s2">&quot;Region(&lt;Monitors=[], Struts=[]&gt;)&quot;</span><span class="p">)</span>

        <span class="n">test_region</span><span class="o">.</span><span class="n">set_monitors</span><span class="p">([</span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">test_region</span><span class="p">),</span> <span class="s2">&quot;Region(&quot;</span>
            <span class="s2">&quot;&lt;Monitors=[Rectangle(x=1, y=2, width=3, height=4)], Struts=[]&gt;)&quot;</span><span class="p">)</span>

        <span class="n">test_region</span><span class="o">.</span><span class="n">set_panels</span><span class="p">(</span>
            <span class="p">[</span><span class="n">StrutPartial</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">test_region</span><span class="p">),</span> <span class="s2">&quot;Region(&lt;&quot;</span>
            <span class="s2">&quot;Monitors=[Rectangle(x=1, y=2, width=3, height=4)], &quot;</span>
            <span class="s2">&quot;Struts=[StrutPartial(left=1, right=2, top=3, bottom=4, &quot;</span>
            <span class="s2">&quot;left_start_y=5, left_end_y=6, right_start_y=7, right_end_y=8, &quot;</span>
            <span class="s2">&quot;top_start_x=9, top_end_x=10, bottom_start_x=11, bottom_end_x=12)]&quot;</span>
            <span class="s2">&quot;&gt;)&quot;</span><span class="p">)</span></div></div>

<span class="c1"># vim: set sw=4 sts=4 expandtab :</span>
</pre></div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    
    <div class="footer">
      &copy;2009-2020, Stephan Sokolow et al.
      
    </div>

    

    
    <span id="forkongithub"><a href="https://github.com/ssokolow/quicktile">Fork me on GitHub</a></span>
  </body>
</html>